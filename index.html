<!DOCTYPE html><html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pix Premiado</title>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0b1f1a;color:#fff}
.capa{width:100%;background:#000;display:flex;justify-content:center;align-items:center;padding:10px 0}
.capa img{max-width:100%;max-height:90vh;object-fit:contain}
.container{padding:20px;max-width:1200px;margin:auto}
h1{text-align:center}
p{text-align:center;opacity:.9}
button{padding:10px 20px;border:none;border-radius:8px;font-size:16px;cursor:pointer}
#resetBtn{background:#c0392b;color:#fff;margin:5px}
#sortearBtn{background:#27ae60;color:#fff;margin:5px}
.botoes{text-align:center}
.numeros{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:10px;margin-top:30px}
.numero{background:#1e3d32;border-radius:8px;padding:10px 5px;text-align:center;font-weight:bold;cursor:pointer;font-size:14px}
.numero:hover{background:#2e6b57}
.vendido{background:#555!important;cursor:not-allowed}
.numero small{display:block;margin-top:5px;font-size:11px;opacity:.9;word-break:break-word}
.resultado{margin-top:20px;text-align:center;font-size:18px}
.historico{margin-top:20px;background:#102d25;padding:15px;border-radius:8px}
.historico h3{text-align:center;margin-top:0}
.historico ul{list-style:none;padding:0}
.historico li{margin-bottom:8px}
footer{text-align:center;padding:20px;font-size:14px;opacity:.7}
</style>
</head>
<body><div class="capa">
<img src="Img1.jpg" alt="Pix Premiado">
</div><div class="container">
<h1>Pix Premiado</h1>
<p>Controle e sorteio de nÃºmeros de <strong>0001 a 2000</strong></p><div class="botoes">
<button id="resetBtn">Resetar tudo</button>
<button id="sortearBtn">Sortear prÃªmio</button>
</div><div class="resultado" id="resultado"></div><div class="historico" id="historico">
<h3>HistÃ³rico de sorteios</h3>
<ul id="listaHistorico"></ul>
</div><div class="numeros" id="numeros"></div>
</div><footer>Â© Pix Premiado â€“ Controle do organizador</footer><script>
const container=document.getElementById('numeros');
const resetBtn=document.getElementById('resetBtn');
const sortearBtn=document.getElementById('sortearBtn');
const resultado=document.getElementById('resultado');
const listaHistorico=document.getElementById('listaHistorico');

let vendidos=JSON.parse(localStorage.getItem('numerosVendidos'))||{};
let historico=JSON.parse(localStorage.getItem('historicoSorteios'))||[];

function salvar(){
localStorage.setItem('numerosVendidos',JSON.stringify(vendidos));
localStorage.setItem('historicoSorteios',JSON.stringify(historico));
}

function contarPorNome(){let c={};Object.values(vendidos).forEach(n=>{c[n]=(c[n]||0)+1});return c}

resetBtn.onclick=()=>{
if(confirm('Deseja resetar nÃºmeros e sorteios?')){
localStorage.removeItem('numerosVendidos');
localStorage.removeItem('historicoSorteios');
location.reload();
}}

sortearBtn.onclick=()=>{
const entries=Object.entries(vendidos);
if(entries.length===0){alert('Nenhum nÃºmero disponÃ­vel para sorteio');return}
if(historico.length>=15){alert('Os 15 sorteios jÃ¡ foram realizados');return}
const sorteado=entries[Math.floor(Math.random()*entries.length)];
const premio=historico.length+1;
historico.push({premio,numero:sorteado[0],nome:sorteado[1]});
delete vendidos[sorteado[0]];
salvar();
resultado.innerHTML=`ðŸŽ‰ PrÃªmio ${premio}<br>NÃºmero: <strong>${sorteado[0]}</strong><br>Ganhador: <strong>${sorteado[1]}</strong>`;
renderHistorico();
renderNumeros();
}

function renderHistorico(){
listaHistorico.innerHTML='';
historico.forEach(h=>{
const li=document.createElement('li');
li.textContent=`PrÃªmio ${h.premio}: NÂº ${h.numero} â€“ ${h.nome}`;
listaHistorico.appendChild(li);
});
}

function renderNumeros(){
container.innerHTML='';
for(let i=1;i<=2000;i++){
const num=i.toString().padStart(4,'0');
const div=document.createElement('div');
div.className='numero';
if(vendidos[num]){
div.classList.add('vendido');
div.innerHTML=num+`<small>${vendidos[num]}</small>`;
div.onclick=()=>{};
}else{
div.textContent=num;
div.onclick=()=>{
const nome=prompt('Digite o nome do comprador (mÃ¡x. 3 nÃºmeros por pessoa):');
if(!nome||!nome.trim())return;
const nomeLimpo=nome.trim();
const contagem=contarPorNome();
if((contagem[nomeLimpo]||0)>=3){alert('Esse nome jÃ¡ atingiu o limite de 3 nÃºmeros');return}
vendidos[num]=nomeLimpo;
salvar();
div.classList.add('vendido');
div.innerHTML=num+`<small>${nomeLimpo}</small>`;
}
}
container.appendChild(div);
}
}

renderHistorico();
renderNumeros();
</script></body>
</html>

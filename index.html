<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel do Organizador - Pix Premiado</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 20px;
}

.login, .painel {
  max-width: 900px;
  margin: auto;
  background: #fff;
  padding: 20px;
  border-radius: 10px;
}

h1, h2 {
  text-align: center;
}

input, button {
  padding: 10px;
  width: 100%;
  margin-top: 10px;
}

button {
  background: #2ecc71;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background: #27ae60;
}

.lista {
  margin-top: 20px;
}

.numero {
  padding: 8px;
  border-bottom: 1px solid #ddd;
}

.sorteios {
  margin-top: 30px;
}

.resultado {
  background: #ecf0f1;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="login" id="login">
  <h1>Painel do Organizador</h1>
  <input type="password" id="senha" placeholder="Digite a senha">
  <button onclick="entrar()">Entrar</button>
</div>

<div class="painel" id="painel" style="display:none;">
  <h1>Painel Pix Premiado</h1>

  <div class="lista">
    <h2>Números Vendidos</h2>
    <div id="listaNumeros"></div>
  </div>

  <div class="sorteios">
    <h2>Sorteios</h2>
    <button onclick="sortear()">Realizar Sorteio</button>
    <div id="resultados"></div>
  </div>
</div>

<script>
const SENHA = "admin123";
let sorteiosRealizados = 0;
const LIMITE_SORTEIOS = 15;

function entrar() {
  const senha = document.getElementById("senha").value;
  if (senha === SENHA) {
    document.getElementById("login").style.display = "none";
    document.getElementById("painel").style.display = "block";
    carregarNumeros();
  } else {
    alert("Senha incorreta");
  }
}

function carregarNumeros() {
  const dados = JSON.parse(localStorage.getItem("numerosPix")) || {};
  const lista = document.getElementById("listaNumeros");
  lista.innerHTML = "";

  Object.keys(dados).forEach(num => {
    const div = document.createElement("div");
    div.className = "numero";
    div.innerHTML = `Número <b>${num}</b> - ${dados[num].nome} (${dados[num].whatsapp})`;
    lista.appendChild(div);
  });
}

function sortear() {
  if (sorteiosRealizados >= LIMITE_SORTEIOS) {
    alert("Limite de 15 sorteios atingido");
    return;
  }

  const dados = JSON.parse(localStorage.getItem("numerosPix")) || {};
  const numeros = Object.keys(dados);

  if (numeros.length === 0) {
    alert("Nenhum número vendido");
    return;
  }

  const sorteado = numeros[Math.floor(Math.random() * numeros.length)];
  sorteiosRealizados++;

  const res = document.createElement("div");
  res.className = "resultado";
  res.innerHTML = `
    <b>Sorteio ${sorteiosRealizados}</b><br>
    Número: ${sorteado}<br>
    Nome: ${dados[sorteado].nome}<br>
    WhatsApp: ${dados[sorteado].whatsapp}
  `;

  document.getElementById("resultados").appendChild(res);
}
</script>

</body>
</html>
